<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="node_modules/three/build/three.js"></script>
    <script src="node_modules/three/examples/js/controls/OrbitControls.js"></script>
    <title>Junho's Living Area</title>
</head>
<body>
    <div id="webgl-output"></div>
    <script>
        function init() {

        //------------Scene---------------------------------------//
            var scene = new THREE.Scene();


        //------------Renderer------------------------------------//
            var renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setClearColor(new THREE.Color(0x81F7F3));
            document.getElementById("webgl-output").appendChild(renderer.domElement);


        //------------Camera (initialize)-------------------------//
            var camera = new THREE.PerspectiveCamera(45, window.innerWidth/window.innerHeight, 1, 1000);
            camera.position.set(-30, 40, 30);   // 100 0 0
            camera.lookAt(scene.position);


        //------------Camera Orbit Control (with Mouse)-----------------//
            var controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.rotateSpeed = 1.0;
            controls.zoomSpeed = 1.2;
            controls.panSpeed = 0.8;
            controls.minDistance = 5;
            controls.maxDistance = 100;

            function animate() {
                requestAnimationFrame(animate);

                renderer.render(scene, camera);

                controls.update();
            }

        //------------Camera Control (with KeyBoard)-----------------------//

            // function cameraPosition(event) {
            //     requestAnimationFrame(cameraPosition);

            //     if (event.keyCode == 40) {
            //         camera.position.x += 1.0;
            //     }
            //     if (event.keyCode == 38) {
            //         camera.position.x += -1.0;
            //     }
            //     if (event.keyCode == 37) {
            //         camera.position.z += 1.0;
            //     }
            //     if (event.keyCode == 39) {
            //         camera.position.z += -1.0;
            //     }

            //     renderer.render(scene, camera);
            // }

            // function cameraLookAt(event) {
            //     requestAnimationFrame(cameraLookAt);

            //     if (event.keyCode == 65) {
            //         camera.rotation.y += THREE.Math.degToRad(4);
            //     }
            //     if (event.keyCode == 68) {
            //         camera.rotation.y -= THREE.Math.degToRad(4);
            //     }
            //     if (event.keyCode == 87) {
            //         camera.rotation.x -= THREE.Math.degToRad(4);
            //     }
            //     if (event.keyCode == 83) {
            //         camera.rotation.x += THREE.Math.degToRad(4);
            //     }

            //     renderer.render(scene, camera);
            // }


            // document.addEventListener("keydown", cameraPosition, false);
            // document.addEventListener("keydown", cameraLookAt, false);


        //------------Window Resizing-----------------------------//
            window.addEventListener( 'resize', onWindowResize, false );

            function onWindowResize() {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();

                renderer.setSize( window.innerWidth, window.innerHeight );
            }


        //------------Temp---------------------------------------//
            var axes = new THREE.AxesHelper(20);
            scene.add(axes);
            // Red: X, Green: Y, Blue: Z

            var cubeGeometry = new THREE.BoxGeometry(5, 5, 5);
            var cubeMaterial = new THREE.MeshBasicMaterial({color:0xFF0000, wireframe:true});
            var cube = new THREE.Mesh(cubeGeometry,cubeMaterial);
            scene.add(cube);

            const solarColor = 0xFFFFFF;
            const solarintensity = 1;
            var solarLight = new THREE.AmbientLight(solarColor, solarintensity);
            scene.add(solarLight);


        //--------------Floor-------------------------------------//
            const floorWidth = 100
            const floorHeight = 100
            const floorGeometry = new THREE.PlaneGeometry(floorWidth, floorHeight);
            const floorMaterial = new THREE.MeshLambertMaterial({color: 0xF3F781});
            var floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = Math.PI * -.5;
            floor.position.y = -10;
            scene.add(floor);

            
        //-------------Room1--------------------------------------//
            var room1 = new THREE.Group();

            const GlobalWallHeight = 35;


        // ------------Room1 - Walls -----------------------------//
            const room1WallGeo1 = new THREE.BoxGeometry(40, GlobalWallHeight, 3);
            const room1WallGeo2 = new THREE.BoxGeometry(25, GlobalWallHeight, 3);
            const room1WallGeoEX = new THREE.BoxGeometry(15, 6, 3);
            const room1WallMat = new THREE.MeshLambertMaterial({color: 0x58FAAC});

            var room1Wall1 = new THREE.Mesh(room1WallGeo1, room1WallMat);
            room1Wall1.position.set(30, 2, 50);

            var room1Wall2 = new THREE.Mesh(room1WallGeo1, room1WallMat);
            room1Wall2.position.set(50, 2, 30);
            room1Wall2.rotation.y = .5 * Math.PI;

            var room1Wall3 = new THREE.Mesh(room1WallGeo2, room1WallMat);
            room1Wall3.position.set(37, 2, 10);

            var room1Wall4 = new THREE.Mesh(room1WallGeo1, room1WallMat);
            room1Wall4.position.set(10, 2, 30);
            room1Wall4.rotation.y = .5 * Math.PI;

            var room1WallEx = new THREE.Mesh(room1WallGeoEX, room1WallMat);
            room1WallEx.position.set(17, 16.5, 10);

            room1.add(room1Wall1);
            room1.add(room1Wall2);
            room1.add(room1Wall3);
            room1.add(room1Wall4);
            room1.add(room1WallEx);


        //--------------Room1 - Bed-----------------------------------//
            const bedGeo = new THREE.BoxGeometry(30, 5, 15);
            const bedMat = new THREE.MeshPhongMaterial({color:0xFFFFFF});
            var bed = new THREE.Mesh(bedGeo, bedMat);
            bed.position.set(32, -5, 41);

            const bedLegGeo = new THREE.BoxGeometry(2, 5, 2);
            const bedLegMat = new THREE.MeshPhongMaterial({color:0xB40404});
            var leg1 = new THREE.Mesh(bedLegGeo, bedLegMat);
            var leg2 = new THREE.Mesh(bedLegGeo, bedLegMat);
            var leg3 = new THREE.Mesh(bedLegGeo, bedLegMat);
            var leg4 = new THREE.Mesh(bedLegGeo, bedLegMat);
            leg1.position.set(15, -3, 7.5);
            leg2.position.set(15, -3, -7.5);
            leg3.position.set(-15, -3, 7.5);
            leg4.position.set(-15, -3, -7.5);
            bed.add(leg1);
            bed.add(leg2);
            bed.add(leg3);
            bed.add(leg4);


        //-----------------Room1 - Bed - Pillow------------------------//
            const pillowGeo = new THREE.BoxGeometry(3, 0.5, 6.5);
            const pillowMat = new THREE.MeshPhongMaterial({color:0xBDBDBD});
            var pillow = new THREE.Mesh(pillowGeo, pillowMat);
            pillow.position.set(12, 3, 0);
            bed.add(pillow);


        //-----------------Room1 - Bed - Blanket-----------------------//
            const blanketGeo = new THREE.PlaneGeometry(24, 15);
            const blanketMat = new THREE.MeshBasicMaterial({color:0xFE9A2E});
            var blanket = new THREE.Mesh(blanketGeo, blanketMat);
            blanket.position.set(-3, 2.6, 0);
            blanket.rotation.x = -.5 * Math.PI;
            bed.add(blanket);


            room1.add(bed);


        //---------------Room1 - Desk--------------------------------//
            const deskGeo = new THREE.BoxGeometry(14, 2, 24);
            const deskLegGeo = new THREE.BoxGeometry(2, 14, 2);
            const deskDrawerGeo = new THREE.BoxGeometry(14, 14, 6);
            const deskMat = new THREE.MeshPhongMaterial({color:0x868A08});
            var desk = new THREE.Mesh(deskGeo, deskMat);
            var deskLeg1 = new THREE.Mesh(deskLegGeo, deskMat);
            var deskLeg2 = new THREE.Mesh(deskLegGeo, deskMat);
            var deskDrawer = new THREE.Mesh(deskDrawerGeo, deskMat);
            desk.position.set(43, 3, 22);
            deskLeg1.position.set(6, -7, -9);
            deskLeg2.position.set(-6, -7, -9);
            deskDrawer.position.set(0, -7, 8);
            desk.add(deskLeg1);
            desk.add(deskLeg2);
            desk.add(deskDrawer);

        //---------------Room1 - Desk - Lamp-------------------------//
            const lampCylinGeo = new THREE.CylinderGeometry()
        
            const points = [];
            for (let i = 0; i < 10; ++i) {
                points.push(new THREE.Vector2(Math.sin(i * 0.2) * 3 + 3, (i - 5) * .8));
            }
            const lampCoverGeo = new THREE.LatheGeometry(points, 26);
            const lampCoverMat = new THREE.MeshLambertMaterial({color:0xF5F6CE});
            var lampCover = new THREE.Mesh(lampCoverGeo, lampCoverMat);
            


            room1.add(desk);




            scene.add(room1);

            renderer.render(scene, camera);

            animate();
        }   

        window.onload = init();
    </script>
</body>
</html>